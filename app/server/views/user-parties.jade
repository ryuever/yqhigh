extends party-scratch-layout

block specified-script

block party-scratch
    - var party_list = records
    - var contains = function(arr, item){
    -     for (var i =0; i < arr.length; i++){
    -         if (item === arr[i])
    -             return true;
    -     }
    -     return false;
    - };
    form(role='form' class="form-horizontal" id="create-party-form" method='post' action='/party/create')
        fieldset
            .form-group
                label(for='party-des' class="col-sm-10 party-label") 所有聚餐列表
            hr

    #parties-table(style="text-align:center")
        table.table.table-bordered.white-color
            thread
                tr
                    th 主题
                    th 时间
                    th 料理
                    th 预算人均
                    th 负责人
                    th 参加
            each item in party_list
                tr
                    td
                        a(href="/parties/#{item._id}")= item.party_theme
                    td= item.party_time
                    td= Object.keys(item.party_menu)
                    td= item.member
                    td= item.manager 
                    td
                        input(type="checkbox" value= "" checked=contains(item.member, udata.name) ? "checked":"" )
        